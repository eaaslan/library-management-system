@model WebApplication1.Models.ViewModels.AdminDashboardViewModel

@*TODO create graph to show statistics *@

<div class="container-fluid">
    <h2 class="mt-3">Admin Dashboard</h2>
    <div id="card-container" class="container-fluid d-flex justify-content-between align-items-center mt-5"> 
        <div class="card text-white bg-primary mb-3" style="max-width: 18rem;">
            <div class="card-header">Books</div>
            <div class="card-body">
                <h5 class="card-title">Total Books: @Model.TotalBooks</h5>
                <h5 class="card-title">Deleted Books: @Model.DeletedBooks</h5>
                <p class="card-text">Go to books page</p>
            </div>
        </div>

        <div class="card text-white bg-primary mb-3" style="max-width: 18rem;">
            <div class="card-header">Users</div>
            <div class="card-body">
                <h5 class="card-title">Total Users: @Model.TotalUsers</h5>
                <h5 class="card-title">Deleted Users: @Model.DeletedUsers</h5>
              
                <p class="card-text">   <a asp-action="Users" class="btn btn-secondary me-2">Go to users page</a></p>
            </div>
        </div>


        <div class="card text-white bg-primary mb-3" style="max-width: 18rem;">
            <div class="card-header">Rentals</div>
            <div class="card-body">
                <h5 class="card-title">Total Rentals: @Model.TotalRentals</h5>
                <h5 class="card-title">Active Rentals: @Model.ActiveRentals</h5>
                <p class="card-text">Go to rentals page</p>
            </div>
        </div>

    </div>


    <div>
        <h3> Recent Rentals </h3>
        <table class="table table-striped">
            <thead>
                <tr>
                 
                    <th scope="col">User</th>
                    <th scope="col">Book</th>
                    <th scope="col">Rental Date</th>
                    <th scope="col">Return Date</th>
                    <th scope="col">Status</th>
                </tr>
            </thead>
            <tbody>

                @foreach (var rental in Model.RecentRentals)
                { 
                  <tr>

                        <td>@rental.User.UserName</td>
                        <td>@rental.Book.Title</td>
                        <td>@rental.RentalDate</td>
                        <td>@rental.ReturnDate</td>
                    <td>

                        @if(rental.IsReturned){
                            <span class="badge bg-success">Returned</span>
                        }else{

                            <span class="badge bg-primary">Active</span>
                        }

                    </td>

                  </tr>

                }

            </tbody>
        </table>






    </div>
    
</div> 